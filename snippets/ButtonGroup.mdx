---
snippet: true
---

import { useState, useEffect } from 'react'

export const ButtonGroup = ({ cols = 3, gap = 1, children }) => {
  const [colsCount, setColsCount] = useState(cols)

  useEffect(() => {
    const updateCols = () => {
      const w = window.innerWidth
      if (w < 640)          setColsCount(1)
      else if (w < 768)     setColsCount(Math.min(cols, 2))
      else                  setColsCount(cols)
    }
    updateCols()
    window.addEventListener('resize', updateCols)
    return () => window.removeEventListener('resize', updateCols)
  }, [cols])

  return (
    <div
      style={{
        display: 'grid',
        gridTemplateColumns: `repeat(${colsCount}, minmax(0, 1fr))`,
        gap: `${gap}rem`,
      }}
    >
      {children}
    </div>
  )
}

export default ButtonGroup
