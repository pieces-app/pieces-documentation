---
title: "Pieces MCP + Goose Integration"
description: "The Pieces MCP integration with Goose lets you use Pieces Long-Term Memory directly through the Goose CLI, enhancing your coding workflow with deep contextual awareness."
---

## Get Started

Integrating the [Pieces MCP](https://docs.pieces.app/products/mcp/get-started) with Goose is a powerful way to bring your daily workflow context directly into your command line or desktop interface.

With this integration, you'll have a _command-line AI assistant_ that knows more about your coding activities than just the current project.

You can ask Pieces about bug fixes in your code discussed in your team channel, inquire about similar code you've worked on, or prompt it to double-check that your new code meets the criteria your coworker suggested—and much more.

Learn how to integrate the Pieces MCP into Goose by following the steps below.

## Prerequisites

There are **[2]** primary prerequisites for integrating Pieces with Goose as an MCP—an active instance of **PiecesOS** and the fully-enabled **Long-Term Memory (LTM-2)** engine.

<Steps>
  <Step title="Install & Run PiecesOS">
    Make sure that PiecesOS is installed and running. This is _required_ for the MCP server to communicate with your personal repository of workflow data and pass context through to the Goose interface.
  </Step>
  <Step title="Enable Long-Term Memory">
    For the MCP server to interact with your workflow context, you must enable the Long-Term Memory Engine (LTM-2) through the Pieces Desktop App or the [PiecesOS Quick Menu](https://docs.pieces.app/products/core-dependencies/pieces-os/quick-menu) in your toolbar.
  </Step>
  <Step title="Install Goose">
    If you haven't installed Goose yet, follow the <a href="https://block.github.io/goose/docs/getting-started/installation/">
    installation instructions</a>

    .
  </Step>
</Steps>

### Installing PiecesOS & Configuring Permissions

Follow the detailed set-up instructions below for a detailed guide on setting up and configuring PiecesOS to correctly pass captured workflow context to the Pieces MCP server.

<Tabs>
  <Tab title="macOS">
    **Installing PiecesOS for macOS**

    [Download the standalone PiecesOS file](https://docs.pieces.app/products/core-dependencies/pieces-os/manual-installation#macos) for your macOS system's ARM or Intel-based architecture to start the installation process.

    _Your device must be updated to macOS 13.0 (Ventura) or higher._

    1. Download the correct PiecesOS file for your system's architecture.
    2. From your **Downloads** folder, double-click the installed PiecesOS file to open it.
    3. Drag PiecesOS into the application folder if prompted, then open PiecesOS.

    **Configuring Permissions**

    There are two permissions prompts that will pop up on your screen when installing PiecesOS.

    > _PiecesOS is an app downloaded from the internet. Are you sure you want to open it?_

    Click `Open` to continue with the installation.

    Then, you'll see a second permissions pop-up message:

    > PiecesOS is requesting to bypass the system private window picker and directly access your screen and audio. This will allow PiecesOS to record your screen and system audio, including personal or sensitive information that may be visible or audible.

    Click `Allow`.

    These permissions are required for [PiecesOS](https://docs.pieces.app/products/core-dependencies/pieces-os) to power the [Long-Term Memory Engine (LTM-2)](https://docs.pieces.app/products/core-dependencies/pieces-os#ltm-2) and, in turn, capture context from your workflow to provide information to the [Pieces MCP server.](https://docs.pieces.app/products/mcp/get-started)

    PiecesOS will automatically open in your toolbar and pop up a _Notification preferences modal_ in the upper right corner of your screen.

    **Enabling the LTM-2 Engine**

    For the Pieces MCP to function, Long-Term Memory must be enabled.

    To do this, open up the PiecesOS Quick Menu and click `Enable Long-Term Memory Engine`.

    ![](https://storage.googleapis.com/hashnode_product_documentation_assets/misc_fragments_media/macos_piecesOS_toolbar.png)
  </Tab>
  <Tab title="Windows">
    **Installing PiecesOS for Windows**

    [Download the standalone PiecesOS file](https://docs.pieces.app/products/core-dependencies/pieces-os/manual-installation#windows) for your Windows machine to start the installation process.

    _Your device must be updated to Windows 10 (20HO) or higher._

    1. Download the file.
    2. From your **Downloads** folder, double-click the installed PiecesOS file to open it.
    3. Click `Yes` when the _User Account Control_ modal pops up on your screen to proceed with the installation.

    **Note:** Some users who have enabled Controlled Folder Access (CFA) as a security measure may receive a notification that Pieces is attempting to bypass this security wall.

    PiecesOS uses vision processing to ingest context from foreground applications horizontally. To decide which apps PiecesOS has access to, you can [easily enable and disable specific sources](https://docs.pieces.app/products/core-dependencies/pieces-os/quick-menu#long-term-memory-access-control) from the Long-Term Memory Access Control panel.

    4. Choose your installation location and click `Next`.
    5. Click `Install`, then `Finish` when the progress bar has finished loading.
    6. Follow the installer's instructions, selecting a download location and preferred file path as necessary.

    PiecesOS will launch when the installation process is completed, and can be found in your Windows _System Tray_ at the bottom left corner of your screen.

    **Enabling the LTM-2 Engine**

    For the Pieces MCP to function, Long-Term Memory must be enabled.

    To do this, open up the PiecesOS Quick Menu and click `Enable Long-Term Memory Engine`.

    ![](https://storage.googleapis.com/hashnode_product_documentation_assets/misc_fragments_media/windows_piecesOS_toolbar.png)
  </Tab>
  <Tab title="Linux">
    **Installing PiecesOS for Linux**

    To download and install PiecesOS _and_ utilize the Long-Term Memory Engine (LTM-2) on your Linux device, you must meet **(4)** requirements.

    - **Snap Support:** Ensure `snapd` is installed and enabled on your system. Most recent Ubuntu releases include `snapd` by default. If needed, install `snapd` by following the official `snapd` documentation.
    - **Administrator Access:** You'll need `sudo` privileges to install `snap` packages.
    - **Minimum OS Type:** PiecesOS has been tested and developed primarily for Ubuntu 22\+ or later-based distributions, so make sure your system is updated to at least Ubuntu 22\+ or later.
    - **X11 Window Manager:** Virtual Linux machines or dedicated instances of Linux, even PiecesOS-compatible Ubuntu 22\+ distributions, _must utilize_ **X11** as the proprietary Window Manager. To determine which display manager your Linux device is using, go to **Settings,** then **System,** and **System Details** to see if you are using an X11 or a non-LLVM compatible manager.

    **_Note:_** _Ubuntu 22\+ using the X11 Window Manager is required_ to install PiecesOS and use LTM.

    Run these commands **to install and set up PiecesOS properly**.

    1. Open the Command-Line Interface (CLI) using the `ctrl+alt+t` keyboard shortcut.
    2. Run `sudo snap install pieces-os` to install PiecesOS. You will be prompted to enter your local account's password.
    3. Enter and run `sudo snap connect pieces-os:process-control :process-control` to enable offline and on-device machine learning and large language model (LLM) functionality.

    **Note:** Make sure to run the above permissions-related commands. These are required for the [Long-Term Memory Engine (LTM-2)](https://docs.pieces.app/products/core-dependencies/pieces-os#ltm-2) to capture context from your workflow to serve the [Pieces MCP](https://docs.pieces.app/products/mcp/get-started).

    To launch PiecesOS, type `pieces-os` in your terminal and press `enter`.

    ![](https://storage.googleapis.com/hashnode_product_documentation_assets/misc_fragments_media/linux_piecesOS_toolbar.png)
  </Tab>
</Tabs>

### SSE Endpoint

To use Pieces MCP with Goose, you'll need the Server-Sent Events (SSE) endpoint from PiecesOS:

```scss
http://localhost:39300/model_context_protocol/2024-11-05/sse
```

<Warning>
  Keep in mind that the **specific port** (i.e., `39300`) PiecesOS is running on **may vary**.
</Warning>

To find the up-to-date SSE endpoint with the active instance of POS (including the current port number), open the PiecesOS Quick Menu and expand the **Model Context Protocol (MCP) Servers** tab.

There, you can copy the SSE endpoint with one click, which includes the active PiecesOS port number.

![](https://storage.googleapis.com/hashnode_product_documentation_assets/mcp_documentation/mcp_pos_new.png)

You can also find this in the Pieces Desktop App by opening the [Settings](https://docs.pieces.app/products/desktop/configuration) view and clicking **Model Context Protocol (MCP)**.

![](https://storage.googleapis.com/hashnode_product_documentation_assets/mcp_documentation/mcp_pfd_new.png)

## Setting Up Goose with Pieces MCP

Follow the steps below to set up Pieces MCP with Goose, either through the command line or desktop application.

Make sure you have the latest version of Goose installed to ensure compatibility with Pieces MCP.

<Warning>
  You will need to go through additional set-up steps (such as setting up your LLM provider) which involves setting up your host, choosing your model, using your API key, and more.

  Read the [official, open-source documentation](https://block.github.io/goose/docs/getting-started/installation/) on completing these set-up steps
</Warning>

### via CLI

Setting up the Pieces MCP through the Goose Command Line Interface is straightforward.

![](https://storage.googleapis.com/hashnode_product_documentation_assets/mcp_documentation/goose_mcp/set_up_mcp_server.gif)

<Steps>
  <Step title="Run the Configuration Command">
    Open your terminal (macOS/Linux) or CMD (Windows) and run:

    ```bash
    goose configure
    ```
  </Step>
  <Step title="Choose 'Add Extension'">
    From the list of available options, choose `Add Extension`.
  </Step>
  <Step title="Choose 'Remote Extension'">
    Select `Remote Extension` from the list of extension types.
  </Step>
  <Step title="Give it a Name">
    Name your extension `Pieces` or something similar.
  </Step>
  <Step title="Enter the SSE Endpoint URL">
    From PiecesOS, the Desktop App, or this documentation, obtain the Pieces MCP SSE endpoint URL and paste it into your terminal.

    ```bash
    http://localhost:39300/model_context_protocol/2024-11-05/sse
    ```

    <Tip>
      Adjust the port number if your local instance of PiecesOS runs on a different one.
    </Tip>
  </Step>
  <Step title="Set the Tool Timeout">
    You'll be prompted to enter a value for timing out the tool in case of an error or repeated _hangtime_. The default value is `300`—you can enter that value, or another.
  </Step>
  <Step title="Optional Configurations">
    Lastly, you'll be prompted to add a description or additional environment variables—these are not required. Select `No` to both if you want to proceed.
  </Step>
  <Step title="Success!">
    You'll now see a message like `Added Pieces Extension` or similar, depending on the name you've attributed to the extension. You can use `goose list extensions` to verify and check the list of integrated extensions within Goose.
  </Step>
</Steps>

<Card title="For macOS Users:">
  You may see an error message when configuring Goose, like:

  > Warning: Goose installed, but /Users/you/.local/bin is not in your PATH…

  You can fix this issue by adding `export PATH="$HOME/.local/bin:$PATH"` to your your `~/.zshrc` or `~/.bashrc`.

  Then, reload with `source ~/.zshrc` and start a Goose session by using `goose` from anywhere.
</Card>

## Using Pieces MCP with Goose

Once the integration is set up, you can start using Pieces Long-Term Memory through Goose.

### Starting a Conversation

<Steps>
  <Step title="Open up a Goose Chat">
    Simply type `goose` in your terminal to start a new conversation:

    ```bash
    goose
    ```

    This will open a prompt where you can interact with Goose, which now has access to your Pieces Long-Term Memory.
  </Step>
  <Step title="Start Prompting">
    You can now start interacting with the Pieces MCP server.

    Try using this prompt:

    ```plaintext
    I need a status update for what I was working on yesterday. Create a report with 5 bullet points based off the most important activities, and give each one a brief description. Use time stamps to accurately report how long I spent working on group of tasks/topics.
    ```

    <Warning>
      This prompt is formulated for users already familiar with PiecesOS who use the Long-Term Memory Engine.

      If you are a first-time user, it is recommended that you launch PiecesOS and enable LTM, then allow some time for data capture before using this prompt for a desirable output.
    </Warning>
    Here's a response using that exact same prompt inside of Goose using the Pieces MCP integration:

    ![](https://storage.googleapis.com/hashnode_product_documentation_assets/mcp_documentation/goose_mcp/example_convo_demo_prompt.png)
  </Step>
</Steps>

<Card title="Hey!">
  Check out this [MCP-specific prompting guide](https://docs.pieces.app/products/mcp/prompting) if you want to effectively utilize the Long-Term Memory Engine (LTM-2) with your new Pieces MCP server.
</Card>

## Toggling & Removing Pieces MCP

To remove the Pieces MCP for Goose, you can follow the same process you otherwise would for removing any Goose extension.

![](https://storage.googleapis.com/hashnode_product_documentation_assets/mcp_documentation/goose_mcp/remove_mcp_server.gif)

<Steps>
  <Step title="Enter the Configuration Settings">
    Open up your terminal and type `goose configure`, then press `return` (macOS) or `enter` (Windows/Linux).
  </Step>
  <Step title="Extension Toggling">
    Use your keyboard's **up** and **down** arrow keys to navigate down to `Toggle Extensions`.
  </Step>
  <Step title="Un-Toggle your Pieces MCP Server">
    Using arrow keys to navigate the list, press `space` (macOS/Windows/Linux) when the carrot is pointing towards your targeted extension.

    Then, press `return` (macOS) or `enter` (Windows/Linux) to confirm changes.
  </Step>
  <Step title="Re-enter the Configuration Settings">
    Use `goose configure` to re-enter the configuration menu.
  </Step>
  <Step title="Removing Extensions">
    Use your arrow keys to navigate to `Remove Extensions`, then, using the same `space` and `enter/return` process, first _toggle_ then _confirm_ your removal of the Pieces MCP extension.
  </Step>
</Steps>

## Troubleshooting

If you're experiencing issues integrating Pieces MCP with Goose, follow these troubleshooting steps:

1. **Verify PiecesOS Status:** Ensure [PiecesOS is actively running](https://docs.pieces.app/products/core-dependencies/pieces-os) on your system